/*! Readable Version: html5-thor 2014-04-22 */
// This file is required to kick off your app i.e. $APP.init() after the "build" takes place and the script.min.js file in dev mode is replaced with the compressed js files in the "modules" folder
$(function() {
    "use strict";
    $APP.load.init();
});

/* jshint ignore:start */
var $APP = {};

(function($A) {
    "use strict";
    $A.load = {};
    // extend namespace
    $A.load.init = function() {
        // Start the 'loadie' plugin now to show around 50% has completed (just an example)
        $("body").loadie(.5);
        setTimeout(function() {
            var titleBox = document.querySelector(".title-box");
            $("body").loadie(1);
            // example hook of 'loadie' plugin to show progress
            document.querySelector(".bg-one").classList.add("hide");
            titleBox.classList.add("show");
            titleBox.addEventListener("webkitTransitionEnd", function() {
                $APP.showReadme.init();
            }, false);
        }, 1e3);
    };
})($APP);

(function($A) {
    "use strict";
    $A.showReadme = {};
    // extend namespace
    $A.showReadme.init = function() {
        var showReadme = document.querySelector(".showReadme");
        document.querySelector(".showReadme").addEventListener("click", function() {
            var titleBox = document.querySelector(".title-box");
            titleBox.classList.add("collapse");
            titleBox.addEventListener("webkitTransitionEnd", function() {
                $(".holder").addClass("large");
                $(".holdReadme").show();
                $(".holdReadme").addClass("show");
            }, false);
        });
        showReadme.classList.add("show");
        showReadme.addEventListener("webkitTransitionEnd", function() {
            $APP.showReadme.getReadme(function(response) {
                document.querySelector(".holdReadme").innerHTML = response;
            }, function() {
                document.querySelector(".holdReadme").innerHTML = 'Sorry, the documentation is only available in Development mode (When in Grunt "Serve") due to file size / app optimisation considerations';
            });
        }, false);
    };
    $A.showReadme.getReadme = function(onDone, onError) {
        $.when($.ajax({
            url: "/docs/readme.html"
        })).then(function(response) {
            onDone(response);
        }, function() {
            onError();
        });
    };
})($APP);

var mockData = {};